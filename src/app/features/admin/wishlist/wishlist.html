<div class="space-y-6">
  <div class="flex justify-between items-center">
    <h2 class="text-2xl font-bold text-gray-800 dark:text-white">Wishlist Tracker</h2>
    <div class="flex gap-2">
      <input
        type="text"
        placeholder="Search wishlist..."
        class="px-4 py-2 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800 text-gray-700 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50"
      />
      <app-dropdown
        [options]="filterOptions"
        [value]="currentFilter"
        (valueChange)="filterWishlist($event)"
        placeholder="Filter by Category"
        buttonClass="w-48 bg-primary text-white hover:bg-primary-dark"
      ></app-dropdown>
    </div>
  </div>

  <div
    class="bg-white dark:bg-gray-800 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 overflow-hidden"
  >
    <div class="overflow-x-auto">
      <table class="w-full text-left">
        <thead class="bg-gray-50 dark:bg-gray-900/50 border-b border-gray-100 dark:border-gray-700">
          <tr>
            <th class="px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              User
            </th>
            <th class="px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Product
            </th>
            <th class="px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Category
            </th>
            <th class="px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Price
            </th>
            <th class="px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Added On
            </th>
            <th class="px-6 py-4 text-xs font-semibold text-gray-500 uppercase tracking-wider">
              Actions
            </th>
          </tr>
        </thead>
        <tbody class="divide-y divide-gray-100 dark:divide-gray-700">
          <tr
            *ngFor="let item of wishlistItems()"
            class="hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors"
          >
            <td class="px-6 py-4">
              <div class="flex items-center gap-3">
                <div
                  class="w-8 h-8 rounded-full bg-pink-100 dark:bg-pink-900/30 flex items-center justify-center text-xs font-bold text-pink-600 dark:text-pink-400"
                >
                  {{ item.userName.charAt(0) }}
                </div>
                <div>
                  <div class="text-sm font-medium text-gray-900 dark:text-white">
                    {{ item.userName }}
                  </div>
                  <div class="text-xs text-gray-500">{{ item.userEmail }}</div>
                </div>
              </div>
            </td>
            <td class="px-6 py-4">
              <div class="flex items-center gap-3">
                <img
                  [src]="item.productImage"
                  class="w-10 h-10 rounded-lg object-contain bg-white border border-gray-100 dark:border-gray-700"
                />
                <span
                  class="text-sm text-gray-700 dark:text-gray-300 font-medium line-clamp-1 max-w-[200px]"
                  [title]="item.productTitle"
                  >{{ item.productTitle }}</span
                >
              </div>
            </td>
            <td class="px-6 py-4 text-sm text-gray-500 uppercase">{{ item.category }}</td>
            <td class="px-6 py-4 text-sm font-bold text-gray-900 dark:text-white">
              {{ item.price | currency }}
            </td>
            <td class="px-6 py-4 text-sm text-gray-500">{{ item.addedOn | date }}</td>
            <td class="px-6 py-4">
              <button
                (click)="initiateNotify(item)"
                class="text-gray-400 hover:text-primary transition-colors"
                title="Notify User"
              >
                <lucide-icon [img]="Bell" [size]="20"></lucide-icon>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

  <app-modal
    *ngIf="isModalOpen()"
    [type]="modalType()"
    [title]="modalTitle()"
    [message]="modalMessage()"
    (onConfirm)="confirmNotify()"
    (onCancel)="closeModal()"
  ></app-modal>
</div>
